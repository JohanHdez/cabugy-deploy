import{u as N,_ as h,r as o,o as d,c as v,w as r,d as t,g as u,t as m,e as w,h as O,m as B,a as y,b as D,F as k,i as j}from"./index-2bc35e8e.js";const A={props:{ofert:{type:Object,required:!0}},methods:{onAddButtonClick(){N().addOfert(this.ofert)}},computed:{ofertImageUrl(){var e;return((e=this.ofert)==null?void 0:e.image)??"https://cdn.vuetifyjs.com/images/cards/sunshine.jpg"}}},L=w("p",{class:"mb-4"},"Esta es una descripciÃ³n de ejemplo.",-1);function E(e,s,n,i,$,f){const l=o("v-img"),c=o("v-card-title"),a=o("v-chip"),p=o("v-card-text"),_=o("v-btn"),S=o("v-card-actions"),I=o("v-card");return d(),v(I,null,{default:r(()=>[t(l,{src:f.ofertImageUrl,height:"200px",cover:""},null,8,["src"]),t(c,null,{default:r(()=>{var g;return[u(m((g=n.ofert)==null?void 0:g.name),1)]}),_:1}),t(p,null,{default:r(()=>[L,t(a,null,{default:r(()=>{var g;return[u(" $ "+m((g=n.ofert)==null?void 0:g.price),1)]}),_:1})]),_:1}),t(S,null,{default:r(()=>[t(_,{onClick:f.onAddButtonClick,color:"primary"},{default:r(()=>[u(m(e.$t("productCart.addToCart")),1)]),_:1},8,["onClick"])]),_:1})]),_:1})}const F=h(A,[["render",E]]),C=O("oferts",{state:()=>({order:"price",artistId:null,_oferts:[],loading:!0}),getters:{oferts(e){let s=null;if(e.artistId?s=e._oferts.filter(n=>n.artistId===e.artistId):s=e._oferts,e.order==="")return s;if(e.order==="price")return s.sort((n,i)=>n.price-i.price);if(e.order==="priceDesc")return s.sort((n,i)=>i.price-n.price);if(e.order==="name")return s.sort((n,i)=>n.name.localeCompare(i.name));if(e.order==="nameDesc")return s.sort((n,i)=>i.name.localeCompare(n.name))}},actions:{fetchOferts(){fetch("/data/oferts.json").then(e=>e.json()).then(e=>{this._oferts=e,this.loading=!1})},selectCategory(e){this.artistId=e},orderByPrice(){this.order="price"},orderByName(){this.order="name"},orderByPriceDesc(){this.order="priceDesc"},orderByNameDesc(){this.order="nameDesc"}}}),T={name:"SkeletonCard"};function V(e,s,n,i,$,f){const l=o("v-skeleton-loader"),c=o("v-col"),a=o("v-row");return d(),v(a,null,{default:r(()=>[t(c,{cols:"12",sm:"6",md:"4",lg:"3"},{default:r(()=>[t(l,{class:"mx-auto border","max-width":"300",type:"image, article"})]),_:1})]),_:1})}const M=h(T,[["render",V]]),R={components:{ProductCard:F,SkeletonCard:M},computed:{...B(C,["oferts","loading"])}},U={key:0,class:"d-flex justify-center align-center h-100"};function Z(e,s,n,i,$,f){const l=o("v-progress-circular"),c=o("ProductCard"),a=o("v-col"),p=o("v-row");return e.loading?(d(),y("div",U,[t(l,{indeterminate:"",size:50})])):(d(),v(p,{key:1},{default:r(()=>[(d(!0),y(k,null,D(e.oferts,_=>(d(),v(a,{key:_.id,cols:"12",sm:"6",md:"4",lg:"3"},{default:r(()=>[t(c,{ofert:_},null,8,["ofert"])]),_:2},1024))),128))]),_:1}))}const q=h(R,[["render",Z]]),z={methods:{...j(C,["orderByPrice","orderByPriceDesc","orderByName","orderByNameDesc"])},computed:{...B(C,["order"])}};function G(e,s,n,i,$,f){const l=o("v-list-subheader"),c=o("v-list-item-title"),a=o("v-list-item");return d(),y(k,null,[t(l,null,{default:r(()=>[u(m(e.$t("filters.title")),1)]),_:1}),t(a,{link:"",onClick:e.orderByPrice,active:e.order==="price"},{default:r(()=>[t(c,null,{default:r(()=>[u(m(e.$t("filters.mostEconomical")),1)]),_:1})]),_:1},8,["onClick","active"]),t(a,{link:"",onClick:e.orderByPriceDesc,active:e.order==="priceDesc"},{default:r(()=>[t(c,null,{default:r(()=>[u(m(e.$t("filters.mostExpensive")),1)]),_:1})]),_:1},8,["onClick","active"]),t(a,{link:"",onClick:e.orderByName,active:e.order==="name"},{default:r(()=>[t(c,null,{default:r(()=>[u(m(e.$t("filters.nameAZ")),1)]),_:1})]),_:1},8,["onClick","active"]),t(a,{link:"",onClick:e.orderByNameDesc,active:e.order==="nameDesc"},{default:r(()=>[t(c,null,{default:r(()=>[u(m(e.$t("filters.nameZA")),1)]),_:1})]),_:1},8,["onClick","active"])],64)}const H=h(z,[["render",G]]),P=O("artists",{state:()=>({artists:[],loading:!0}),actions:{fetchArtists(){fetch("/data/artists.json").then(e=>e.json()).then(e=>{this.artists=e,this.loading=!1})}}}),J={computed:{...B(P,["artists","loading"])},methods:{clearCategory(){this.$router.push({name:"home"})},goToCategory(e){this.$router.push({name:"ofert",params:{ofertId:e}})}}};function K(e,s,n,i,$,f){const l=o("v-list-subheader"),c=o("v-list-item-title"),a=o("v-list-item"),p=o("v-progress-linear");return d(),y(k,null,[t(l,null,{default:r(()=>[u(m(e.$t("oferst.title")),1)]),_:1}),t(a,{link:"",onClick:s[0]||(s[0]=_=>f.clearCategory()),active:e.$route.name==="home"},{default:r(()=>[t(c,null,{default:r(()=>[u(m(e.$t("oferst.all")),1)]),_:1})]),_:1},8,["active"]),e.loading?(d(),v(p,{key:0,indeterminate:""})):(d(!0),y(k,{key:1},D(e.artists,_=>(d(),v(a,{active:e.$route.name==="ofert"&&Number(e.$route.params.ofertId)===_.id,key:_.id,link:"",onClick:S=>f.goToCategory(_.id)},{default:r(()=>[t(c,null,{default:r(()=>[u(m(_.name),1)]),_:2},1024)]),_:2},1032,["active","onClick"]))),128))],64)}const Q=h(J,[["render",K]]),W={components:{OrderOptions:H,CategoryOptions:Q}};function X(e,s,n,i,$,f){const l=o("CategoryOptions"),c=o("v-divider"),a=o("OrderOptions"),p=o("v-list"),_=o("v-sheet");return d(),v(_,{rounded:"lg"},{default:r(()=>[t(p,{rounded:"lg"},{default:r(()=>[t(l),t(c,{class:"my-2"}),t(a)]),_:1})]),_:1})}const Y=h(W,[["render",X]]);function b(e){const s=C(),n=Number(e);s.selectCategory(n)}const x={components:{ProductList:q,LeftMenu:Y},beforeRouteEnter(e){b(e.params.categoryId)},beforeRouteUpdate(e){b(e.params.categoryId)},mounted(){console.log("mounted"),C().fetchOferts(),P().fetchArtists()}};function ee(e,s,n,i,$,f){const l=o("LeftMenu"),c=o("v-col"),a=o("ProductList"),p=o("v-row");return d(),v(p,null,{default:r(()=>[t(c,{cols:"12",sm:"3",md:"3",lg:"2"},{default:r(()=>[t(l)]),_:1}),t(c,{cols:"12",sm:"9",md:"9",lg:"10"},{default:r(()=>[t(a)]),_:1})]),_:1})}const oe=h(x,[["render",ee]]);export{oe as default};
